# 리팩터링(REFACTORING)

2판: 코드 구조를 체계적으로 개선하여 효율적인 리팩터링 구현하기

리팩터링: 이해하기 쉽고 수정하기 편하게 만드는 과정
리팩터링은 반드시 계획적이며 체계적으로 해야 한다.

‘한 번에 한 단계씩’

처음부터 완벽한 설계를 갖추기보다는 개발을 진행하면서 지속적으로 설계한다.
시스템을 구축하는 과정에서 더 나은 설계가 무엇인지 배우게 된다.
그 결과, 개발의 시작부터 끝날 때 까지 프로그램은 줄곧 우수한 설계를 유지한다.

2장 일반 원칙, 정의, 당위성, 문제점
3장 악취 찾아내기 제거하기

> 콜백, 프라미스, async/ await 리팩터링은 뭘까?

## 누가 읽어야 하나?

리팩터링을 배우려는 개발자, 이미 리팩터링에 능숙한 개발자

* 1장, 2장: 리팩터링은 무엇인가? 진행절차와 이유
* 3장: 리팩터링이 필요할 곳을 찾아내는 능력 기르기(악취 잡아내기)
* 1 ~ 4장을 특히 더 꼼꼼히 읽고, 나머지는 빠르게 훑을 것(필요할 때 찾아 읽기)

# 1장 - 첫 번째 예시

> 리팩터링이 관련있는 코드를 함수로 분리해서 응집도를 높이는 듯한 인상을 주었다.

# 1.4 함수 쪼개기

> 부품을 분해해서 조립하는 방식

전체 동작을 각 부분으로 나눈다. 먼저 공연 요금을 계산하는 `switch`문을 쪼갠다. 별도의 함수로 선언할 때 주의할 점은 변수의 유효범위를 고려해야 한다.

## 컴파일 - 테스트 -커밋

* 프로그램이 새로운 기능을 추가하기에 편한 구조가 아니라면, 먼저 기능을 추가하기 쉬운 형태로 리팩터링하고 나서 원하는 기능을 추가한다.
* 리팩터링은 프로그램의 확장을 위해 불가결하다. 리팩터링을 시작하기에 앞서 우리의 우선 순위는 테스트코드가 준비다. 테스트코드는 리팩터링을 위한 안전장치다.
* 아무리 간단한 수정이라도 리팩터링 후에는 항상 테스트하는 습관을 들이자. 조금씩 변경하고 매번 테스트를 하는 것은 리팩터링 절차의 핵심이다. (피드백 주기를 빠르게 가져가기)
* 수정한 사항을 테스트하고 문제가 없을 때, 변경 사항을 로컬 버전 관리 시스템에 커밋한다. 자잘한 변경들이 어느정도 의미 있는 단위로 뭉쳐지면 푸쉬한다.

> 함수의 반환 값을 나타내는 변수를 항상 result를 사용한다는 점은 의문이다.